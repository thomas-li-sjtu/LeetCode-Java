//ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ æ‰¾å‡º s ä¸­çš„æœ€é•¿å­ä¸²ï¼Œ è¦æ±‚è¯¥å­ä¸²ä¸­çš„æ¯ä¸€å­—ç¬¦å‡ºç°æ¬¡æ•°éƒ½ä¸å°‘äº k ã€‚è¿”å›è¿™ä¸€å­ä¸²çš„é•¿åº¦ã€‚ 
//
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šs = "aaabb", k = 3
//è¾“å‡ºï¼š3
//è§£é‡Šï¼šæœ€é•¿å­ä¸²ä¸º "aaa" ï¼Œå…¶ä¸­ 'a' é‡å¤äº† 3 æ¬¡ã€‚
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šs = "ababbc", k = 2
//è¾“å‡ºï¼š5
//è§£é‡Šï¼šæœ€é•¿å­ä¸²ä¸º "ababb" ï¼Œå…¶ä¸­ 'a' é‡å¤äº† 2 æ¬¡ï¼Œ 'b' é‡å¤äº† 3 æ¬¡ã€‚ 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= s.length <= 10â´ 
// s ä»…ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ 
// 1 <= k <= 10âµ 
// 
// Related Topics å“ˆå¸Œè¡¨ å­—ç¬¦ä¸² åˆ†æ²» æ»‘åŠ¨çª—å£ ğŸ‘ 720 ğŸ‘ 0


//leetcode submit region begin(Prohibit modification and deletion)
package editor.cn;

import java.util.*;

class Solution395 {
    public int longestSubstring(String s, int k) {
        // é€’å½’æœ€åŸºæœ¬çš„æ˜¯è®°ä½é€’å½’å‡½æ•°çš„å«ä¹‰ï¼ˆåŠ¡å¿…ç‰¢è®°å‡½æ•°å®šä¹‰ï¼‰ï¼š
        // æœ¬é¢˜çš„ longestSubstring(s, k) å‡½æ•°è¡¨ç¤ºçš„å°±æ˜¯é¢˜æ„ï¼Œå³æ±‚ä¸€ä¸ªæœ€é•¿çš„å­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œ
        // è¯¥å­å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°éƒ½æœ€å°‘ä¸º kkã€‚å‡½æ•°å…¥å‚ ss æ˜¯è¡¨ç¤ºæºå­—ç¬¦ä¸²ï¼›kk æ˜¯é™åˆ¶æ¡ä»¶ï¼Œå³å­å­—ç¬¦ä¸²ä¸­æ¯ä¸ªå­—ç¬¦æœ€å°‘å‡ºç°çš„æ¬¡æ•°ï¼›
        // å‡½æ•°è¿”å›ç»“æœæ˜¯æ»¡è¶³é¢˜æ„çš„æœ€é•¿å­å­—ç¬¦ä¸²é•¿åº¦ã€‚

        // é€’å½’çš„ç»ˆæ­¢æ¡ä»¶ï¼ˆèƒ½ç›´æ¥å†™å‡ºçš„æœ€ç®€å•caseï¼‰ï¼šå¦‚æœå­—ç¬¦ä¸² s çš„é•¿åº¦å°‘äº kï¼Œé‚£ä¹ˆä¸€å®šä¸å­˜åœ¨æ»¡è¶³é¢˜æ„çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å› 0ï¼›

        // è°ƒç”¨é€’å½’ï¼ˆé‡ç‚¹ï¼‰ï¼š
        // å¦‚æœä¸€ä¸ªå­—ç¬¦ c åœ¨ s ä¸­å‡ºç°çš„æ¬¡æ•°å°‘äº k æ¬¡ï¼Œé‚£ä¹ˆ s ä¸­æ‰€æœ‰çš„åŒ…å« c çš„å­å­—ç¬¦ä¸²éƒ½ä¸èƒ½æ»¡è¶³é¢˜æ„ã€‚
        // æ‰€ä»¥ï¼Œåº”è¯¥åœ¨ s çš„æ‰€æœ‰ä¸åŒ…å« c çš„å­å­—ç¬¦ä¸²ä¸­ç»§ç»­å¯»æ‰¾ç»“æœï¼šæŠŠ s æŒ‰ç…§ c åˆ†å‰²ï¼ˆåˆ†å‰²åæ¯ä¸ªå­ä¸²éƒ½ä¸åŒ…å« cï¼‰ï¼Œå¾—åˆ°å¾ˆå¤šå­å­—ç¬¦ä¸² tï¼›
        // ä¸‹ä¸€æ­¥è¦æ±‚ t ä½œä¸ºæºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå®ƒçš„æœ€é•¿çš„æ»¡è¶³é¢˜æ„çš„å­å­—ç¬¦ä¸²é•¿åº¦ï¼ˆåˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬æŠŠå¤§é—®é¢˜åˆ†å‰²ä¸ºäº†å°é—®é¢˜(s â†’ t)ï¼‰ã€‚
        // æ­¤æ—¶æˆ‘ä»¬å‘ç°ï¼Œæ°å¥½å·²ç»å®šä¹‰äº†å‡½æ•° longestSubstring(s, k) å°±æ˜¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ï¼æ‰€ä»¥ç›´æ¥æŠŠ longestSubstring(s, k)
        // å‡½æ•°æ‹¿æ¥ç”¨ï¼Œäºæ˜¯å½¢æˆäº†é€’å½’ã€‚

        // æœªè¿›å…¥é€’å½’æ—¶çš„è¿”å›ç»“æœï¼šå¦‚æœ s ä¸­çš„æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°éƒ½å¤§äº k æ¬¡ï¼Œé‚£ä¹ˆ s å°±æ˜¯è¦æ±‚çš„å­—ç¬¦ä¸²ï¼Œç›´æ¥è¿”å›è¯¥å­—ç¬¦ä¸²çš„é•¿åº¦


        // å¦‚æœå­˜åœ¨æŸä¸ªå­—ç¬¦chå‡ºç°æ¬¡æ•°å¤§äº 0 ä¸”å°äº kï¼Œåˆ™ä»»ä½•åŒ…å«chçš„å­ä¸²éƒ½ä¸å¯èƒ½æ»¡è¶³è¦æ±‚
        // å°†å­—ç¬¦ä¸²æŒ‰ç…§chåˆ‡åˆ†æˆè‹¥å¹²æ®µï¼Œåˆ™æ»¡è¶³è¦æ±‚çš„æœ€é•¿å­ä¸²ä¸€å®šå‡ºç°åœ¨æŸä¸ªè¢«åˆ‡åˆ†çš„æ®µå†…
        if (s.length() < k) {
            return 0;
        }
        Map<Character, Integer> map = new HashMap<>();
        for (int i = 0; i < s.length(); i++) {
            if (map.containsKey(s.charAt(i))) {
                int counter = map.get(s.charAt(i));
                map.put(s.charAt(i), counter+1);
            } else {
                map.put(s.charAt(i), 1);
            }
        }
        for (Map.Entry<Character, Integer> entry: map.entrySet()) {
            if (entry.getValue() < k) {
                String[] string_list = s.split(String.valueOf(entry.getKey()));
                List<Integer> temp_res = new ArrayList<>();
                for (String temp: string_list) {
                    temp_res.add(longestSubstring(temp, k));
                }
                return Collections.max(temp_res);
            }
        }

        return s.length();
    }
}
//leetcode submit region end(Prohibit modification and deletion)
